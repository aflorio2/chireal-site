{% assign image = page.footer | default: site.footer %}
{% assign dark = page.footer-dark | is_nil: site.footer-dark | is_nil: true %}

<footer
  class="background"
  style="--image: url('{{ image | relative_url | uri_escape }}')"
  {% if dark == true or dark == false %}
    data-dark="{{ dark }}"
  {% endif %}
  data-size="wide"
>
  <!-- Left Logo Section -->
  <div class="footer-logos footer-logos-left">
    {% if site.footer-logos.left %}
      {% for logo in site.footer-logos.left %}
        <a
          href="{{ logo.link | uri_escape }}"
          class="footer-logo-link"
          aria-label="{{ logo.alt | xml_escape }}"
          target="_blank"
          rel="noopener"
        >
          <img
            src="{{ logo.image | relative_url | uri_escape }}"
            alt="{{ logo.alt | xml_escape }}"
            class="footer-logo-image"
            loading="lazy"
            {% include fallback.html %}
          >
        </a>
      {% endfor %}
    {% endif %}
  </div>

  <!-- Center Content Section (existing content) -->
  <div class="footer-center">
    <div class="footer-links">
      {% for link in site.links %}
        {% assign key = link[0] %}
        {% assign value = link[1] %}
        {% include button.html type=key text="" link=value style="bare" %}
      {% endfor %}
    </div>

    <div class="footer-text">
      &copy; {{ site.time | date: "%Y" }}
      &nbsp; | &nbsp; Built with
      <a href="https://github.com/greenelab/lab-website-template">
        Lab Website Template
      </a>
    </div>

    <input
      type="checkbox"
      class="dark-toggle"
      data-tooltip="Dark mode"
      aria-label="toggle dark mode"
      oninput="onDarkToggleChange(event)"
    >
  </div>

  <!-- Right Logo Section -->
  <div class="footer-logos footer-logos-right">
    {% if site.footer-logos.right %}
      {% for logo in site.footer-logos.right %}
        <a
          href="{{ logo.link | uri_escape }}"
          class="footer-logo-link"
          aria-label="{{ logo.alt | xml_escape }}"
          target="_blank"
          rel="noopener"
        >
          <img
            src="{{ logo.image | relative_url | uri_escape }}"
            alt="{{ logo.alt | xml_escape }}"
            class="footer-logo-image"
            loading="lazy"
            {% include fallback.html %}
          >
        </a>
      {% endfor %}
    {% endif %}
  </div>
</footer>
